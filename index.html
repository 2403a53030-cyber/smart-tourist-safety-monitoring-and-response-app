<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Tourist Safety Portal | Government of India</title>

  <!-- Fonts -->
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link
    href="https://fonts.googleapis.com/css2?family=Outfit:wght@300;400;500;600;700&family=Playfair+Display:wght@400;600;700&display=swap"
    rel="stylesheet">

  <!-- Icons -->
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.1/font/bootstrap-icons.css">

  <!-- Leaflet Map -->
  <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css" />

  <!-- Custom Styles -->
  <link rel="stylesheet" href="style.css">
</head>

<body>

  <!-- Navigation -->
  <nav class="gov-nav">
    <div class="nav-container">
      <div class="brand">
        <img src="https://upload.wikimedia.org/wikipedia/commons/5/55/Emblem_of_India.svg" alt="Emblem"
          class="nav-emblem">
        <div class="brand-text">
          <span class="gov-text">Government of India</span>
          <span class="app-text">Ministry of Tourism</span>
        </div>
      </div>

      <div class="nav-links" id="navLinks">
        <button class="nav-btn active" data-section="landing">
          <i class="bi bi-house-door"></i> Home
        </button>
        <button class="nav-btn" data-section="registration">
          <i class="bi bi-person-badge"></i> Registration
        </button>
        <button class="nav-btn protected-link hidden" data-section="dashboard">
          <i class="bi bi-grid-1x2"></i> Dashboard
        </button>
        <button class="nav-btn protected-link hidden" data-section="sos">
          <i class="bi bi-shield-exclamation"></i> SOS
        </button>
        <button class="nav-btn protected-link hidden" data-section="analytics">
          <i class="bi bi-graph-up"></i> Analytics
        </button>
        <button class="nav-btn" data-section="login" id="loginNavBtn">
          <i class="bi bi-box-arrow-in-right"></i> Login
        </button>
        <button class="nav-btn hidden" id="logoutBtn">
          <i class="bi bi-box-arrow-right"></i> Logout
        </button>
      </div>

      <select class="lang-select">
        <option>English</option>
        <option>Hindi</option>
        <option>French</option>
      </select>
    </div>
  </nav>

  <!-- News Ticker -->
  <div class="news-ticker">
    <div class="ticker-title">Safety Alerts</div>
    <div class="ticker-content">
      <span><i class="bi bi-exclamation-circle-fill"></i> Heavy Rainfall Alert in Kerala - Avoid Hilly Areas</span>
      <span><i class="bi bi-info-circle-fill"></i> New Tourist Helpline 1363 is now active 24/7</span>
      <span><i class="bi bi-shield-check"></i> Digital ID is mandatory for all foreign tourists visiting Taj
        Mahal</span>
    </div>
  </div>

  <!-- Main Content -->
  <main>

    <!-- LANDING SECTION -->
    <section id="landing" class="section active">
      <div class="hero-wrapper">
        <div class="hero-content">
          <span class="badge-pill">Official Safety Portal</span>
          <h1 class="hero-title">Welcome to <span class="gradient-text">Incredible India</span></h1>
          <p class="hero-desc">
            Ensuring a safe, secure, and seamless experience for every tourist.
            Register today for your verified Digital Identity and 24/7 emergency support.
          </p>

          <div class="hero-actions">
            <button class="btn-primary-lg" onclick="document.querySelector('[data-section=\'registration\']').click()">
              Get Digital ID <i class="bi bi-arrow-right"></i>
            </button>
            <button class="btn-secondary-lg" onclick="document.querySelector('[data-section=\'dashboard\']').click()">
              View Live Dashboard
            </button>
          </div>

          <div class="hero-cards">
            <div class="gov-card selection-card" data-type="indian-tourist">
              <div class="card-icon-bg"><i class="bi bi-person-bounding-box"></i></div>
              <h3>Indian Tourist</h3>
              <p>For citizens traveling within India. Use Aadhaar for instant verification.</p>
              <i class="bi bi-chevron-right card-arrow"></i>
            </div>

            <div class="gov-card selection-card" data-type="foreign-tourist">
              <div class="card-icon-bg"><i class="bi bi-globe-central-south-asia"></i></div>
              <h3>Foreign Tourist</h3>
              <p>For international visitors. Register with Passport/Visa details.</p>
              <i class="bi bi-chevron-right card-arrow"></i>
            </div>
          </div>

          <div class="stats-row">
            <div class="stat-item">
              <span class="stat-num">1.2M+</span>
              <span class="stat-label">Registered Tourists</span>
            </div>
            <div class="stat-item">
              <span class="stat-num">24/7</span>
              <span class="stat-label">Support Active</span>
            </div>
            <div class="stat-item">
              <span class="stat-num">100%</span>
              <span class="stat-label">Secure Data</span>
            </div>
          </div>
        </div>
      </div>
    </section>

    <!-- LOGIN SECTION -->
    <section id="login" class="section">
      <div class="container-sm">
        <div class="gov-panel" style="max-width: 500px; margin: 0 auto;">
          <div class="panel-header">
            <h2>Tourist Login</h2>
            <p>Access your Safety Dashboard</p>
          </div>

          <form id="loginForm">
            <div class="form-grid">
              <div class="input-group full-width">
                <label>Digital ID or Mobile Number</label>
                <input type="text" id="loginId" placeholder="Enter ID or Phone" required>
              </div>

              <button type="submit" class="btn-submit">
                <i class="bi bi-box-arrow-in-right"></i> Secure Login
              </button>
            </div>
          </form>

          <div style="text-align: center; margin-top: 1.5rem;">
            <p style="color: #666;">Don't have an ID?</p>
            <button class="btn-text" onclick="navigateTo('registration')">
              Register New Tourist
            </button>
          </div>
        </div>
      </div>
    </section>

    <!-- REGISTRATION SECTION -->
    <section id="registration" class="section">
      <div class="container-sm">
        <div class="gov-panel">
          <div class="panel-header">
            <h2>Tourist Registration</h2>
            <p>Securely generate your verified Digital Identity Card</p>
          </div>

          <form id="registrationForm">
            <div class="form-grid">

              <!-- Indian Fields -->
              <div id="indianTouristFields" class="field-group hidden">
                <div class="input-group full-width">
                  <label>Full Name (as per Aadhaar)</label>
                  <input type="text" id="indianName" placeholder="Enter your name">
                </div>
                <div class="input-group">
                  <label>Aadhaar Number</label>
                  <input type="text" id="aadhaar" placeholder="XXXX-XXXX-XXXX">
                </div>
                <div class="input-group">
                  <label>Home State</label>
                  <select id="state">
                    <option>Select State</option>
                    <option>Maharashtra</option>
                    <option>Delhi</option>
                    <option>Karnataka</option>
                    <option>Tamil Nadu</option>
                  </select>
                </div>
              </div>

              <!-- Foreign Fields -->
              <div id="foreignTouristFields" class="field-group hidden">
                <div class="input-group full-width">
                  <label>Full Name (as per Passport)</label>
                  <input type="text" id="foreignName" placeholder="Enter your name">
                </div>
                <div class="input-group">
                  <label>Passport Number</label>
                  <input type="text" id="passport" placeholder="Enter passport no.">
                </div>
                <div class="input-group">
                  <label>Nationality</label>
                  <select id="nationality">
                    <option>Select Country</option>
                    <option>USA</option>
                    <option>UK</option>
                    <option>France</option>
                    <option>Germany</option>
                    <option>Japan</option>
                  </select>
                </div>
                <div class="input-group">
                  <label>Visa Type</label>
                  <select id="visaType">
                    <option>Tourist</option>
                    <option>Business</option>
                    <option>Medical</option>
                  </select>
                </div>
              </div>

              <!-- Common Fields -->
              <div class="field-group">
                <div class="input-group">
                  <label>Mobile Number</label>
                  <input type="tel" id="phone" placeholder="+91 XXXXX XXXXX">
                </div>
                <div class="input-group">
                  <label>Email Address</label>
                  <input type="email" id="email" placeholder="name@example.com">
                </div>
              </div>

              <div class="input-group">
                <label>Upload Photo</label>
                <input type="file" id="photoUpload" accept="image/*" style="padding: 0.5rem;">
              </div>

              <button type="submit" class="btn-submit">
                <i class="bi bi-check-circle-fill"></i> Generate Digital ID
              </button>
            </div>
          </form>

          <!-- Result -->
          <div id="digitalIdResult" class="id-result-container hidden">
            <div class="success-message">
              <i class="bi bi-patch-check-fill"></i> Registration Successful
            </div>

            <div class="digital-id-card">
              <div class="id-header">
                <img src="https://upload.wikimedia.org/wikipedia/commons/5/55/Emblem_of_India.svg" alt="Emblem"
                  class="id-emblem-sm">
                <div class="id-gov-text">
                  <span>GOVERNMENT OF INDIA</span>
                  <span style="font-size: 0.7rem; opacity: 0.9;">MINISTRY OF TOURISM</span>
                </div>
                <img src="https://upload.wikimedia.org/wikipedia/en/9/95/Digital_India_logo.svg" alt="Digital India"
                  class="id-digital-logo" style="height: 30px; filter: brightness(0) invert(1);">
              </div>

              <div class="id-content">
                <div class="id-photo-box">
                  <img id="idPhotoPreview" src="" alt="User Photo" class="hidden">
                </div>
                <div id="generatedIdDetails" class="id-info">
                  <!-- JS Populated -->
                </div>
                <div id="qrcode" style="margin-top: 1rem; display: flex; justify-content: center;"></div>
              </div>

              <div class="id-footer">
                Official Document • Valid for Tourist Safety Services
              </div>
            </div>

            <div id="downloadBtnContainer" style="margin-top: 2rem;"></div>
          </div>
        </div>
      </div>
    </section>

    <!-- DASHBOARD SECTION -->
    <section id="dashboard" class="section">
      <div class="container-fluid">
        <div class="section-title">Live Safety Dashboard</div>

        <div class="dashboard-layout">
          <!-- Sidebar -->
          <div class="sidebar">
            <h3><i class="bi bi-sliders"></i> Controls</h3>

            <div class="control-group">
              <button id="locateMeBtn" class="ctrl-btn">
                <i class="bi bi-geo-alt-fill"></i> Locate Me
              </button>
              <button id="trackToggleBtn" class="ctrl-btn">
                <i class="bi bi-record-circle"></i> Start Tracking
              </button>
              <button id="saveLocationBtn" class="ctrl-btn">
                <i class="bi bi-save-fill"></i> Save Location
              </button>
              <button id="toggleHeatmapBtn" class="ctrl-btn">
                <i class="bi bi-layers-fill"></i> Safety Heatmap
              </button>
              <button id="autoLogBtn" class="ctrl-btn warning">
                <i class="bi bi-robot"></i> Auto-Log (Sim)
              </button>
            </div>

            <div class="status-box" style="background: #f8f9fa; padding: 1rem; border-radius: 8px; margin-top: auto;">
              <small style="color: #666;">GPS Status</small>
              <span id="gpsStatus" class="status-text" style="color: var(--gov-green); font-weight: 600;">Ready</span>
            </div>
          </div>

          <!-- Map -->
          <div class="map-wrapper">
            <div id="liveMap"></div>
          </div>

          <!-- History -->
          <div class="history-panel">
            <h3><i class="bi bi-clock-history"></i> Travel Log</h3>
            <ul id="travelList" class="log-list">
              <li class="empty-log">No travel history yet...</li>
            </ul>
          </div>
        </div>
      </div>
    </section>

    <!-- SOS SECTION -->
    <section id="sos" class="section">
      <div class="sos-wrapper">
        <div class="sos-panel">
          <div class="sos-header">
            <i class="bi bi-exclamation-triangle-fill"></i>
            <h2>Emergency SOS</h2>
            <p style="color: #666;">Pressing the button will alert nearby authorities and your emergency contact.</p>
          </div>

          <div class="sos-input-group">
            <input type="tel" id="sosContact" placeholder="Enter Emergency Contact No.">
          </div>

          <button id="sosBtn" class="sos-big-btn">
            SOS
          </button>

          <div id="sosStatus" style="margin-top: 2rem; font-weight: 600;"></div>

          <div class="helpline-grid">
            <div class="helpline-item">
              <i class="bi bi-telephone-fill" style="color: #d32f2f;"></i>
              <strong>112</strong>
              <span>Police</span>
            </div>
            <div class="helpline-item">
              <i class="bi bi-hospital-fill" style="color: #d32f2f;"></i>
              <strong>102</strong>
              <span>Ambulance</span>
            </div>
            <div class="helpline-item">
              <i class="bi bi-fire" style="color: #d32f2f;"></i>
              <strong>101</strong>
              <span>Fire</span>
            </div>
          </div>
        </div>
      </div>
    </section>

    <!-- ANALYTICS SECTION -->
    <section id="analytics" class="section">
      <div class="container-fluid">
        <div class="section-title">Safety Analytics</div>

        <div class="analytics-grid">
          <div class="chart-panel">
            <h3>Tourist Distribution</h3>
            <div class="chart-box">
              <canvas id="touristChart"></canvas>
            </div>
          </div>
          <div class="chart-panel">
            <h3>Safety Incidents</h3>
            <div class="chart-box">
              <canvas id="incidentChart"></canvas>
            </div>
          </div>
          <div class="chart-panel">
            <h3>Response Times</h3>
            <div class="chart-box">
              <canvas id="responseChart"></canvas>
            </div>
          </div>
        </div>
      </div>
    </section>

  </main>

  <footer>
    <p>© 2025 Ministry of Tourism, Government of India. All Rights Reserved.</p>
    <p style="font-size: 0.8rem; opacity: 0.7; margin-top: 0.5rem;">Official Tourist Safety Portal</p>
  </footer>

  <!-- Toast Container -->
  <div id="toast-container" class="toast-container"></div>

  <!-- Scripts -->
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/qrcodejs/1.0.0/qrcode.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
  <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"></script>
  <script src="https://unpkg.com/leaflet.heat@0.2.0/dist/leaflet-heat.js"></script>
  <script src="app.js"></script>
</body>

</html>